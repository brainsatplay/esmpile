var Ke=Object.create;var ce=Object.defineProperty;var ke=Object.getOwnPropertyDescriptor;var We=Object.getOwnPropertyNames;var Qe=Object.getPrototypeOf,Ze=Object.prototype.hasOwnProperty;var et=(e,t)=>()=>(e&&(t=e(e=0)),t);var tt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),V=(e,t)=>{for(var r in t)ce(e,r,{get:t[r],enumerable:!0})},rt=(e,t,r,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of We(t))!Ze.call(e,n)&&n!==r&&ce(e,n,{get:()=>t[n],enumerable:!(o=ke(t,n))||o.enumerable});return e};var nt=(e,t,r)=>(r=e!=null?Ke(Qe(e)):{},rt(t||!e||!e.__esModule?ce(r,"default",{value:e,enumerable:!0}):r,e));var Le=tt(W=>{(function(e){(function(t){typeof define=="function"&&define.amd?define(["exports"],t):typeof W=="object"&&typeof W.nodeName!="string"?t(W):t(e)})(function(t){"use strict";var r=e.BlobBuilder||e.WebKitBlobBuilder||e.MSBlobBuilder||e.MozBlobBuilder,o=e.URL||e.webkitURL||function(f,i){return i=document.createElement("a"),i.href=f,i},n=e.Blob,s=o.createObjectURL,l=o.revokeObjectURL,d=e.Symbol&&e.Symbol.toStringTag,p=!1,R=!1,j=r&&r.prototype.append&&r.prototype.getBlob;try{p=new Blob(["\xE4"]).size===2,R=new Blob([new Uint8Array([1,2])]).size===2}catch{}function y(f){return f.map(function(i){if(i.buffer instanceof ArrayBuffer){var u=i.buffer;if(i.byteLength!==u.byteLength){var m=new Uint8Array(i.byteLength);m.set(new Uint8Array(u,i.byteOffset,i.byteLength)),u=m.buffer}return u}return i})}function M(f,i){i=i||{};var u=new r;return y(f).forEach(function(m){u.append(m)}),i.type?u.getBlob(i.type):u.getBlob()}function T(f,i){return new n(y(f),i||{})}e.Blob&&(M.prototype=Blob.prototype,T.prototype=Blob.prototype);function P(f){for(var i=0,u=f.length,m=e.Uint8Array||Array,b=0,w=Math.max(32,u+(u>>1)+7),x=new m(w>>3<<3);i<u;){var c=f.charCodeAt(i++);if(c>=55296&&c<=56319){if(i<u){var U=f.charCodeAt(i);(U&64512)===56320&&(++i,c=((c&1023)<<10)+(U&1023)+65536)}if(c>=55296&&c<=56319)continue}if(b+4>x.length){w+=8,w*=1+i/f.length*2,w=w>>3<<3;var I=new Uint8Array(w);I.set(x),x=I}if((c&4294967168)===0){x[b++]=c;continue}else if((c&4294965248)===0)x[b++]=c>>6&31|192;else if((c&4294901760)===0)x[b++]=c>>12&15|224,x[b++]=c>>6&63|128;else if((c&4292870144)===0)x[b++]=c>>18&7|240,x[b++]=c>>12&63|128,x[b++]=c>>6&63|128;else continue;x[b++]=c&63|128}return x.slice(0,b)}function S(f){for(var i=f.length,u=[],m=0;m<i;){var b=f[m],w=null,x=b>239?4:b>223?3:b>191?2:1;if(m+x<=i){var c,U,I,v;switch(x){case 1:b<128&&(w=b);break;case 2:c=f[m+1],(c&192)===128&&(v=(b&31)<<6|c&63,v>127&&(w=v));break;case 3:c=f[m+1],U=f[m+2],(c&192)===128&&(U&192)===128&&(v=(b&15)<<12|(c&63)<<6|U&63,v>2047&&(v<55296||v>57343)&&(w=v));break;case 4:c=f[m+1],U=f[m+2],I=f[m+3],(c&192)===128&&(U&192)===128&&(I&192)===128&&(v=(b&15)<<18|(c&63)<<12|(U&63)<<6|I&63,v>65535&&v<1114112&&(w=v))}}w===null?(w=65533,x=1):w>65535&&(w-=65536,u.push(w>>>10&1023|55296),w=56320|w&1023),u.push(w),m+=x}for(var $=u.length,F="",q=0;q<$;)F+=String.fromCharCode.apply(String,u.slice(q,q+=4096));return F}var H=typeof TextEncoder=="function"?TextEncoder.prototype.encode.bind(new TextEncoder):P,_=typeof TextDecoder=="function"?TextDecoder.prototype.decode.bind(new TextDecoder):S;function ie(){function f(a){for(var h=new Array(a.byteLength),g=new Uint8Array(a),E=h.length;E--;)h[E]=g[E];return h}function i(a){for(var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",g=[],E=0;E<a.length;E+=3){var B=a[E],X=E+1<a.length,J=X?a[E+1]:0,ve=E+2<a.length,Ee=ve?a[E+2]:0,Ge=B>>2,Ye=(B&3)<<4|J>>4,Fe=(J&15)<<2|Ee>>6,Re=Ee&63;ve||(Re=64,X||(Fe=64)),g.push(h[Ge],h[Ye],h[Fe],h[Re])}return g.join("")}var u=Object.create||function(a){function h(){}return h.prototype=a,new h};function m(a){return Object.prototype.toString.call(a).slice(8,-1)}function b(a,h){return typeof a=="object"&&Object.prototype.isPrototypeOf.call(a.prototype,h)}function w(a){return m(a)==="DataView"||b(e.DataView,a)}var x=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","ArrayBuffer"];function c(a,h){return a.indexOf(h)!==-1}function U(a){return c(x,m(a))||b(e.ArrayBuffer,a)}function I(a){for(var h=0,g=a.length;g--;)h+=a[g].length;for(var E=new Uint8Array(h),B=0,X=0;X<a.length;X++){var J=a[X];E.set(J,B),B+=J.byteLength||J.length}return E}function v(a,h){a=a||[],h=h??{};for(var g=0,E=a.length;g<E;g++){var B=a[g];B instanceof v?a[g]=B._buffer:typeof B=="string"?a[g]=H(B):w(B)?a[g]=f(B.buffer):U(B)?a[g]=f(B):a[g]=H(String(B))}this._buffer=e.Uint8Array?I(a):[].concat.apply([],a),this.size=this._buffer.length,this.type=h.type||"",/[^\u0020-\u007E]/.test(this.type)?this.type="":this.type=this.type.toLowerCase()}v.prototype.arrayBuffer=function(){return Promise.resolve(this._buffer.buffer||this._buffer)},v.prototype.text=function(){return Promise.resolve(_(this._buffer))},v.prototype.slice=function(a,h,g){var E=this._buffer.slice(a||0,h||this._buffer.length);return new v([E],{type:g})},v.prototype.toString=function(){return"[object Blob]"};function $(a,h,g){g=g||{};var E=v.call(this,a,g)||this;return E.name=h.replace(/\//g,":"),E.lastModifiedDate=g.lastModified?new Date(g.lastModified):new Date,E.lastModified=+E.lastModifiedDate,E}if($.prototype=u(v.prototype),$.prototype.constructor=$,Object.setPrototypeOf)Object.setPrototypeOf($,v);else try{$.__proto__=v}catch{}$.prototype.toString=function(){return"[object File]"};function F(){if(!(this instanceof F))throw new TypeError("Failed to construct 'FileReader': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");var a=document.createDocumentFragment();this.addEventListener=a.addEventListener,this.dispatchEvent=function(h){var g=this["on"+h.type];typeof g=="function"&&g(h),a.dispatchEvent(h)},this.removeEventListener=a.removeEventListener}function q(a,h,g){if(!(h instanceof v))throw new TypeError("Failed to execute '"+g+"' on 'FileReader': parameter 1 is not of type 'Blob'.");a.result="",setTimeout(function(){this.readyState=F.LOADING,a.dispatchEvent(new Event("load")),a.dispatchEvent(new Event("loadend"))})}F.EMPTY=0,F.LOADING=1,F.DONE=2,F.prototype.error=null,F.prototype.onabort=null,F.prototype.onerror=null,F.prototype.onload=null,F.prototype.onloadend=null,F.prototype.onloadstart=null,F.prototype.onprogress=null,F.prototype.readAsDataURL=function(a){q(this,a,"readAsDataURL"),this.result="data:"+a.type+";base64,"+i(a._buffer)},F.prototype.readAsText=function(a){q(this,a,"readAsText"),this.result=_(a._buffer)},F.prototype.readAsArrayBuffer=function(a){q(this,a,"readAsText"),this.result=(a._buffer.buffer||a._buffer).slice()},F.prototype.abort=function(){},o.createObjectURL=function(a){return a instanceof v?"data:"+a.type+";base64,"+i(a._buffer):s.call(o,a)},o.revokeObjectURL=function(a){l&&l.call(o,a)};var le=e.XMLHttpRequest&&e.XMLHttpRequest.prototype.send;le&&(XMLHttpRequest.prototype.send=function(a){a instanceof v?(this.setRequestHeader("Content-Type",a.type),le.call(this,_(a._buffer))):le.call(this,a)}),t.Blob=v,t.File=$,t.FileReader=F,t.URL=o}function Z(){var f=!!e.ActiveXObject||"-ms-scroll-limit"in document.documentElement.style&&"-ms-ime-align"in document.documentElement.style,i=e.XMLHttpRequest&&e.XMLHttpRequest.prototype.send;f&&i&&(XMLHttpRequest.prototype.send=function(u){u instanceof Blob?(this.setRequestHeader("Content-Type",u.type),i.call(this,u)):i.call(this,u)});try{new File([],""),t.File=e.File,t.FileReader=e.FileReader}catch{try{t.File=new Function('class File extends Blob {constructor(chunks, name, opts) {opts = opts || {};super(chunks, opts || {});this.name = name.replace(/\\//g, ":");this.lastModifiedDate = opts.lastModified ? new Date(opts.lastModified) : new Date();this.lastModified = +this.lastModifiedDate;}};return new File([], ""), File')()}catch{t.File=function(b,w,x){var c=new Blob(b,x),U=x&&x.lastModified!==void 0?new Date(x.lastModified):new Date;return c.name=w.replace(/\//g,":"),c.lastModifiedDate=U,c.lastModified=+U,c.toString=function(){return"[object File]"},d&&(c[d]="File"),c}}}}p?(Z(),t.Blob=R?e.Blob:T):j?(Z(),t.Blob=M):ie(),d&&(t.File.prototype[d]||(t.File.prototype[d]="File"),t.Blob.prototype[d]||(t.Blob.prototype[d]="Blob"),t.FileReader.prototype[d]||(t.FileReader.prototype[d]="FileReader"));var O=t.Blob.prototype,D;try{new ReadableStream({type:"bytes"}),D=function(){var i=0,u=this;return new ReadableStream({type:"bytes",autoAllocateChunkSize:524288,pull:function(m){var b=m.byobRequest.view,w=u.slice(i,i+b.byteLength);return w.arrayBuffer().then(function(x){var c=new Uint8Array(x),U=c.byteLength;i+=U,b.set(c),m.byobRequest.respond(U),i>=u.size&&m.close()})}})}}catch{try{new ReadableStream({}),D=function(u){var m=0;return new ReadableStream({pull:function(b){var w=u.slice(m,m+524288);return w.arrayBuffer().then(function(x){m+=x.byteLength;var c=new Uint8Array(x);b.enqueue(c),m==u.size&&b.close()})}})}}catch{try{new Response("").body.getReader().read(),D=function(){return new Response(this).body}}catch{D=function(){throw new Error("Include https://github.com/MattiasBuelens/web-streams-polyfill")}}}}function we(f){return new Promise(function(i,u){f.onload=f.onerror=function(m){f.onload=f.onerror=null,m.type==="load"?i(f.result||f):u(new Error("Failed to read the blob/file"))}})}O.arrayBuffer||(O.arrayBuffer=function(){var i=new FileReader;return i.readAsArrayBuffer(this),we(i)}),O.text||(O.text=function(){var i=new FileReader;return i.readAsText(this),we(i)}),O.stream||(O.stream=D)})})(typeof self<"u"&&self||typeof window<"u"&&window||typeof global<"u"&&global||W)});var Se={};V(Se,{default:()=>it});var Ae,it,Oe=et(()=>{Ae=nt(Le(),1),it=Ae.Blob});var K="application/javascript",Te=e=>!e||e==="application/javascript",fe={js:K,mjs:K,cjs:K,ts:"text/typescript",json:"application/json",html:"text/html",css:"text/css",txt:"text/plain",svg:"image/svg+xml",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",webp:"image/webp",mp3:"audio/mpeg",mp4:"video/mp4",webm:"video/webm",ogg:"application/ogg",wav:"audio/wav"},ee=e=>fe[e];var de={};V(de,{defaults:()=>G,getMainPath:()=>Be,path:()=>te,resolve:()=>Ue,transformation:()=>z});var G={nodeModules:"node_modules",rootRelativeTo:"./"},te=e=>{let t=e.nodeModules??G.nodeModules,r=e.rootRelativeTo??G.rootRelativeTo;return A(t,r)},Ue=async(e,t)=>{let r=te(t),o=e.split("/"),n=A(e,r);if(o.length>1){if(L(n))return n;n+="/package.json"}return await Be(e,n).catch(s=>{console.warn(`${n} does not exist or is not at the root of the project.`)})},Me=(e,t,r)=>A(e,r,!1,t.split("/").length===1),ot=(e,t=e)=>Me("package.json",e,t),Be=async(e,t=e)=>{let r=await at(e,t);if(!r)return t;let o=r.module||r.main||"index.js";return Me(o,e,t)},at=async(e,t=e)=>{let r=ot(e,t);return(await import(pe(r)?r:new URL(r,window.location.href).href,{assert:{type:"json"}})).default},z={name:"node_modules",handler:Ue};var k="://",A=(e,t="",r=!1,o=!1)=>{let n="",s=y=>(n=y.includes(k)?y.split(k).splice(0,1):void 0,n?y.replace(`${n}${k}`,""):y);e.includes(k)&&(e=s(e)),t.includes(k)&&(t=s(t)),r||(t=t.split("/").filter(y=>y!="..").join("/")),t[t.length-1]==="/"&&(t=t.slice(0,-1));let l=t.split("/");if(l.length===1&&l[0]===""&&(l=[]),!o){let y=l.pop();if(y){let M=y.split(".");(M.length==1||M.length>1&&M.includes(""))&&l.push(y)}}let R=e.split("/").filter((y,M)=>!!y).filter((y,M)=>y===".."?(l.pop(),!1):y!=="."),j=[...l,...R].join("/");return n?n+"://"+j:j};function N(e){let t=e[0]!==".",r=pe(e);return t&&!r}function pe(e){try{return new URL(e),!0}catch{return!1}}var L=e=>{let t=e.split("/").slice(-1)[0].split(".").slice(-1)[0];if(fe[t])return t},Y=(e,t)=>{let r=N(e),o=t.rootRelativeTo??G.rootRelativeTo,n=t.nodeModules??G.nodeModules,s=globalThis.location?e.replace(`${globalThis.location.origin}/`,""):e;if(r)return s;{let l=s.replace(`${n}/`,"").replace(`${o.split("/").slice(0,-1).join("/")}/`,"");return l[0]!=="."&&(l=`./${l}`),l}};var me=e=>{let t;try{t=new URL(e).href}catch{t=A(e,globalThis.location.href)}return t},je=async(e,t={})=>{t.mode||(t.mode="cors");let r=me(e),o=t?.callbacks?.progress?.fetch,n=await st(r,t,o);if(!n.buffer)throw new Error("No response received.");let s=n.type.split(";")[0];return{...n,url:r,type:s}},st=async(e,t={},r)=>{let o=await globalThis.fetch(e,t),n=await new Promise(async s=>{if(o){let l=o.headers.get("Content-Type");if(globalThis.REMOTEESM_NODE){let d=await o.arrayBuffer();s({buffer:d,type:l})}else{let d=o.body.getReader(),p=parseInt(o.headers.get("Content-Length"),10),R=0,j=[],y=async({done:M,value:T})=>{if(M){let S={};typeof l=="string"&&(S.type=l);let _=await new Blob(j,S).arrayBuffer();s({buffer:new Uint8Array(_),type:l}),r instanceof Function&&r(e,R,p,M,o.headers.get("Range"));return}R+=T.length;let P=T;return j.push(P),r instanceof Function&&r(e,R,p,o.headers.get("Range")),d.read().then(y)};d.read().then(y)}}else console.warn("Response not received!",t.headers),s(void 0)});return{response:o,...n}};var De=new Promise(async(e,t)=>{try{if(typeof process=="object"){globalThis.REMOTEESM_NODE=!0,globalThis.fetch=(await import("node-fetch")).default,typeof globalThis.fetch!="function"&&(globalThis.fetch=fetch);let r=(await Promise.resolve().then(()=>(Oe(),Se))).default;globalThis.Blob=r,typeof globalThis.Blob!="function"&&(globalThis.Blob=r),e(!0)}else e(!0)}catch(r){t(r)}});var Xe={};V(Xe,{get:()=>Et});var re={};V(re,{get:()=>ut,getURI:()=>be});var ye={};V(ye,{script:()=>he});var he=async e=>await new Promise((t,r)=>{let o=document.createElement("script"),n=!1;o.onload=o.onreadystatechange=function(){!n&&(!this.readyState||this.readyState=="complete")&&(n=!0,t(window))},o.onerror=r,o.src=e,document.body.insertAdjacentElement("beforeend",o)});function ct(e){let t="",r=new Uint8Array(e),o=r.byteLength;for(let n=0;n<o;n++)t+=String.fromCharCode(r[n]);return window.btoa(t)}var be=(e,t="text/javascript",r,o=!1)=>{let n=r==="buffer"?ct(e):btoa(o?unescape(encodeURIComponent(e)):e);return`data:${t};base64,`+n},ft=async(e,t)=>await(t?import(e,{assert:{type:"json"}}):import(e)).catch(r=>{throw r}),ut=async(e,t,r)=>{let o=typeof e=="string"?"text":"buffer",n,s;if(!r){let d=L(t);r=ee(d)}let l=r==="application/json";try{n=be(e,r,o),s=await ft(n,l)}catch(d){n=be(e,r,o,!0),Te(r)?s=n=await dt(n,d).catch(p=>{throw p}):s=n}return{datauri:n,module:s}};async function dt(e,t){if(t.message.includes("The string to be encoded contains characters outside of the Latin1 range.")||t.message.includes("Cannot set properties of undefined"))return await he(e);throw t}var ne={};V(ne,{get:()=>pt});function pt(e){typeof e=="string"&&(e=new TextEncoder().encode(e));let t=new Blob([e],{type:"text/javascript"});return URL.createObjectURL(t)}var _e=["ts","js"],$e=[..._e,z],Ie=e=>{let t=L(e),r=N(e),o=r?e.split("/").length===1:!1,n=!t;if(!o&&r&&n){let s=_e.map(l=>({extension:l,name:`${z.name} + ${l}`,handler:z.handler}));return e.split("/").length===1?[z,...s]:[...s,z]}else return r?[...$e].reverse():n?[...$e]:[]};var yt="was not resolved locally. You can provide a direct reference to use in",oe=(e,t=e)=>new Error(`${e} ${yt} options.filesystem._fallbacks['${t}'].`);var Ne=(e,t="js")=>{let r=N(e),o=e.split("/"),n=L(e);return(!r||r&&o.length>1)&&!n?`${e}.${t}`:e},He=async(e,t,r,o)=>{let n=typeof t;if(n==="string"&&(!o||o==="string"))return Ne(e,t);if(n==="object"&&(!o||o==="object"))return t.extension&&(e=Ne(e,t.extension)),await t.handler(e,r).catch(s=>{throw oe(e,Y(e,r))})};var xt={compilerOptions:{target:"ES2015",module:"ES2020",strict:!1,esModuleInterop:!0}},qe=(e,t="text")=>{if(window.ts){let r=t!=="buffer"?e[t].updated:new TextDecoder().decode(e[t]);return e.text.updated=window.ts.transpile(r,xt.compilerOptions),t==="buffer"?(e.buffer=new TextEncoder().encode(e.text.updated),e.buffer):e.text.updated}else throw new Error("Must load TypeScript extension to compile TypeScript files using remoteESM.load.script(...);")};var wt=new TextDecoder("utf-8"),Q=async(e,t,r)=>{let o=await je(e,t),n=o.response,s={uri:e,response:n,text:{original:"",updated:""},buffer:null};if(n.ok){if(r){let l=n.headers.get("Content-Type");if(!l.includes(r))throw new Error(`Expected Content Type ${r} but received ${l} for  ${e}`)}s.buffer=o.buffer,s.text.original=s.text.updated=wt.decode(s.buffer)}else throw new Error(n.statusText);return s},ze=async(e,t)=>{let r=Ie(e),o;if(r.length>0){do{let n=r.shift(),s=n?.name??n,l=R=>{console.error(`Import using ${s??n} transformation failed for ${e}`)},d=await He(e,n,t);o=await Q(d,t,n?null:"application/javascript").then(R=>(t.debug&&console.warn(`Import using ${s??n} transformation succeeded for ${e}`),R)).catch(l)}while(!o&&r.length>0);if(!o)throw new Error(`No valid transformation found for ${e}`)}else o=await Q(e,t);return o.originalURI=e,o},ae=async(e,t="buffer")=>{let r=t==="text"?e.text.updated:e.buffer,o=L(e.uri),n=ee(o);switch(n){case"text/typescript":r=qe(e,t),n=K;break}let s=await re.get(r,e.uri,n),l=ne.get(r);return e.module=s.module,e.datauri=s.datauri,e.objecturl=l,e};var vt=/\/\/# sourceMappingURL=(.*\.map)/,Et=async(e,t,r,o=!0)=>{if(r||(r=(await Q(e,t)).text.original),r){let n=r.match(vt);if(n){let s=async()=>{let l=A(n[1],e),p=(await Q(l,t)).text.original;p.slice(0,3)===")]}"&&(console.warn("Removing source map invalidation characters"),p=p.substring(p.indexOf(`
`)));let R={module:JSON.parse(p)};return R.text={original:p,updated:null},R};return o?s():s}}};globalThis.REMOTEESM_BUNDLES={global:{}};var Ft=/[^\n]*(?<![\/\/])import\s+([ \n\t]*(?:(?:\* (?:as .+))|(?:[^ \n\t\{\}]+[ \n\t]*,?)|(?:[ \n\t]*\{(?:[ \n\t]*[^ \n\t"'\{\}]+[ \n\t]*,?)+\}))[ \n\t]*)from[ \n\t]*(['"])([^'"\n]+)(?:['"])([ \n\t]*assert[ \n\t]*{type:[ \n\t]*(['"])([^'"\n]+)(?:['"])})?/gm,St=A,xe=globalThis.REMOTEESM_BUNDLES.global,ge=(e,t)=>{let o=se(t.bundle).bundle,n=[e.datauri,e.objecturl];o[e.uri]||(o[e.uri]=Je()),xe[e.uri]?t.bundle!="global"&&t.debug&&console.warn("Duplicating this import. Already tracking globally...",e.uri):xe[e.uri]=o[e.uri],xe[e.uri].value=o[e.uri].value=t.bundler==="objecturl"?n[1]??n[0]:n[0]??n[1]},Rt=async(e,t,r)=>{let{variables:o,wildcard:n}=t,s=t.path,l=N(s),d;try{let p=l?s:A(s,e.uri),R=te(r);p=p.replace(`${R}/`,"");let j=Y(p,r),y=j,M=se(r.bundle,y),T=M.bundle;if(!T.value){T.value=null;let H=!1,_=se(r.bundle,e.uri);_.bundle.dependents.has(y)&&(H=!0),_.bundle.dependencies.add(y),T.dependencies.has(e.uri)&&(H=!0),T.dependents.add(e.uri);let ie=me(p),Z=j,O={output:{},...r,root:ie};if(O.output.text=!0,H){let D=`Circular dependency detected: ${e.uri} <-> ${y}.`;throw new Error(D)}if(d=await Tt(Z,O,{original:s,transformed:p}),r.dependencies&&(r.dependencies[e.uri]||(r.dependencies[e.uri]={}),r.dependencies[e.uri][d.uri]=t),d.fallback)T.value=d.module;else{let D=await ae({text:d.text,uri:y},"text");ge(D,r)}}let S=T.value;return typeof S=="string"?e.text.updated=`import ${n?"* as ":""}${o} from "${S}"; // Imported from ${y}
                  ${e.text.updated}`:e.text.updated=`const ${o} = globalThis.REMOTEESM_BUNDLE["${M.id}"]["${y}"];
            ${e.text.updated}`,d}catch(p){throw p}},Tt=async(e,t,r={original:e,transformed:e})=>await new Promise(async(o,n)=>{await Ve(e,{...t,onImport:(s,l)=>{t.onImport instanceof Function&&t.onImport(s,l),s==e&&o(l)}}).catch(s=>{if(s.message.includes("Circular dependency detected"))n(s);else{let l=N(r.original)?Y(r.original,t):Y(r.transformed,t);console.warn(`Failed to fetch ${e}. Checking filesystem references...`);let d=t.filesystem?._fallbacks?.[l];if(d)console.warn(`Got fallback reference (module only) for ${e}.`),Object.defineProperty({module:d},"fallback",{value:!0,enumerable:!1}),o({module:d});else{let p="was not resolved locally. You can provide a direct reference to use in";s.message.includes(p)?n(s):n(oe(e,l))}}})});function Je(){return{value:void 0,dependencies:new Set,dependents:new Set}}function se(e,t){e||(e=Math.random());let r=globalThis.REMOTEESM_BUNDLES[e];return r||(r=globalThis.REMOTEESM_BUNDLES[e]={}),t&&(r[t]||(r[t]=Je()),r=r[t]),{id:e,bundle:r}}var Ve=async(e,t={})=>{t=Object.assign({},t);let{onImport:r=()=>{},output:o={},forceImportFromText:n}=t;if(!t.bundle){let R=se(t.bundle);t.bundle=R.id}t.bundler||(t.bundler="objecturl"),await De;let s={},d=L(e)==="json";s.module=n?void 0:await(d?import(e,{assert:{type:"json"}}):import(e)).catch(()=>{});let p;if(!s.module||o.text||o.datauri){p=await ze(e,t);try{s=await ae(p),ge(s,t)}catch{let j=[];Array.from(p.text.updated.matchAll(Ft)).forEach(T=>{p.text.updated=p.text.updated.replace(T[0],"");let P=!!T[1].match(/\*\s+as/),S=T[1].replace(/\*\s+as/,"").trim();j.push({path:T[3],variables:S,wildcard:P})});let M=j.map(async T=>{await Rt(p,T,t)});await Promise.allSettled(M),s=await ae(p,"text"),ge(s,t)}}return r(e,s),s.module},Ot=Ve;export{Ot as default,Tt as getInfo,ye as load,de as nodeModules,St as resolve,Ve as safe,Xe as sourceMap};
//# sourceMappingURL=index.esm.js.map
